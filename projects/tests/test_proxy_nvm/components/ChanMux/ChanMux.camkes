import "../../interfaces/ChanMuxInf.camkes";
import "../../interfaces/UartInf.camkes";

component ChanMux {

    emits     DataAvailableEvent  dataAvailableMain;
    provides  ChanMuxInInf        ChanMuxIn;
    //-------------------------------------------------
    // interface to MAIN
    dataport  Buf                 mainDataPort;
    //-------------------------------------------------
    // interface to MAIN2
    dataport  Buf                 main2DataPort;
    
    //-------------------------------------------------
    // MUX Uart interface
    dataport  Buf                 outputDataPort;
    uses      UartInf             Output;
    provides  ChanMuxOutInf       ChanMuxOut;

    //-------------------------------------------------
    // Synchronization Primitives
    has mutex m;
}
