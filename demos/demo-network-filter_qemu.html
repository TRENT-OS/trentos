

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="">
    
    
      
        <title>Network Filter Demo for QEMU - Documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.4b4a8c74e2ff2ab5b.min.css?v=afa97f93" />
        <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="green">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#general" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Documentation" class="md-header__button md-logo" aria-label="Documentation" data-md-component="logo">
      <img src="../_static/MC_Produkt_Logo_Trentos_gray.png" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Network Filter Demo for QEMU
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/TRENT-OS/trentos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    trentos
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../introduction/getting-started.html" class="md-tabs__link">
      <span class="md-ellipsis">Introduction</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../api/cert-parser_api.html" class="md-tabs__link">
      <span class="md-ellipsis">API</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../components/cert-server.html" class="md-tabs__link">
      <span class="md-ellipsis">Components</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../component-interfaces/nic-interface.html" class="md-tabs__link">
      <span class="md-ellipsis">Component Interfaces</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../platform-support/using-sd-card-with-trentos.html" class="md-tabs__link">
      <span class="md-ellipsis">Platform Support</span>
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="demo-iot_qemu.html" class="md-tabs__link md-tabs__link--active">
      <span class="md-ellipsis">Demos</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../tools/proxy-application.html" class="md-tabs__link">
      <span class="md-ellipsis">Tools</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../development/buildsystem.html" class="md-tabs__link">
      <span class="md-ellipsis">Development</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../glossary/acronyms.html" class="md-tabs__link">
      <span class="md-ellipsis">Glossary</span>
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Documentation" class="md-nav__button md-logo" aria-label="Documentation" data-md-component="logo">
      <img src="../_static/MC_Produkt_Logo_Trentos_gray.png" alt="logo">
    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/TRENT-OS/trentos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    trentos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1">
          <span class="md-ellipsis">Introduction</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Introduction</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/getting-started.html" class="md-nav__link">
        <span class="md-ellipsis">Getting Started</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/sel4.html" class="md-nav__link">
        <span class="md-ellipsis">se<wbr>L4 Microkernel</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/camkes.html" class="md-nav__link">
        <span class="md-ellipsis">CAmk<wbr>ES Framework</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2">
          <span class="md-ellipsis">API</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">API</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/cert-parser_api.html" class="md-nav__link">
        <span class="md-ellipsis">Cert<wbr>Parser API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/config-service_api.html" class="md-nav__link">
        <span class="md-ellipsis">Config<wbr>Service API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/configuration_service_api.html" class="md-nav__link">
        <span class="md-ellipsis">Configuration Service</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/crypto_api.html" class="md-nav__link">
        <span class="md-ellipsis">Crypto API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/file-system_api.html" class="md-nav__link">
        <span class="md-ellipsis">File<wbr>System API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/key-store_api.html" class="md-nav__link">
        <span class="md-ellipsis">Key<wbr>Store API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/logger_api.html" class="md-nav__link">
        <span class="md-ellipsis">Logger API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/socket_api.html" class="md-nav__link">
        <span class="md-ellipsis">Socket API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/tls_api.html" class="md-nav__link">
        <span class="md-ellipsis">TLS API</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3">
          <span class="md-ellipsis">Components</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Components" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Components</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/cert-server.html" class="md-nav__link">
        <span class="md-ellipsis">Cert<wbr>Server</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/chan-mux.html" class="md-nav__link">
        <span class="md-ellipsis">Chan<wbr>Mux</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/crypto-server.html" class="md-nav__link">
        <span class="md-ellipsis">Crypto<wbr>Server</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/entropy-source.html" class="md-nav__link">
        <span class="md-ellipsis">Entropy<wbr>Source</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/network-stack_pico-tcp.html" class="md-nav__link">
        <span class="md-ellipsis">Network<wbr>Stack_<wbr>Pico<wbr>Tcp</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/nic_chan-mux.html" class="md-nav__link">
        <span class="md-ellipsis">NIC_<wbr>Chan<wbr>Mux</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/nic_dummy.html" class="md-nav__link">
        <span class="md-ellipsis">NIC_<wbr>Dummy</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/nic_imx6.html" class="md-nav__link">
        <span class="md-ellipsis">NIC_<wbr>i<wbr>MX6</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/nic_rpi.html" class="md-nav__link">
        <span class="md-ellipsis">NIC_<wbr>RPi</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/ram-disk.html" class="md-nav__link">
        <span class="md-ellipsis">Ram<wbr>Disk</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/rpi_spi_flash.html" class="md-nav__link">
        <span class="md-ellipsis">RPi_<wbr>SPI_<wbr>Flash</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/sd-host-controller.html" class="md-nav__link">
        <span class="md-ellipsis">Sd<wbr>Host<wbr>Controller</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/storage_chan-mux.html" class="md-nav__link">
        <span class="md-ellipsis">Storage_<wbr>Chan<wbr>Mux</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/storage-server.html" class="md-nav__link">
        <span class="md-ellipsis">Storage<wbr>Server</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/time-server.html" class="md-nav__link">
        <span class="md-ellipsis">Time<wbr>Server</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/tls-server.html" class="md-nav__link">
        <span class="md-ellipsis">Tls<wbr>Server</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../components/uart.html" class="md-nav__link">
        <span class="md-ellipsis">UART</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4">
          <span class="md-ellipsis">Component Interfaces</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Component Interfaces" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Component Interfaces</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../component-interfaces/nic-interface.html" class="md-nav__link">
        <span class="md-ellipsis">NIC Interface</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../component-interfaces/socket-interface.html" class="md-nav__link">
        <span class="md-ellipsis">Socket Interface</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5">
          <span class="md-ellipsis">Platform Support</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Platform Support" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Platform Support</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/using-sd-card-with-trentos.html" class="md-nav__link">
        <span class="md-ellipsis">Using an SD Card with a TRENTOS System</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/rpi-3-model-b%2B/platform.html" class="md-nav__link">
        <span class="md-ellipsis">RPi3B+ Platform</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/nitrogen6-solo-x/platform.html" class="md-nav__link">
        <span class="md-ellipsis">Nitrogen6_<wbr>Solo<wbr>X Platform</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/bd-sl-i.mx6/platform.html" class="md-nav__link">
        <span class="md-ellipsis">BD-<wbr>SL-<wbr>i.<wbr>MX6 Platform</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/nvidia-tegra/platform.html" class="md-nav__link">
        <span class="md-ellipsis">Nvidia Tegra</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6">
          <span class="md-ellipsis">Demos</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Demos" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Demos</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="demo-iot_qemu.html" class="md-nav__link">
        <span class="md-ellipsis">Io<wbr>T Demo App for QEMU</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="demo-iot_rpi3b%2B.html" class="md-nav__link">
        <span class="md-ellipsis">Io<wbr>T Demo App for RPi3B+</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="demo-iot_imx6.html" class="md-nav__link">
        <span class="md-ellipsis">Io<wbr>T Demo App for i.<wbr>MX6</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="demo-tls.html" class="md-nav__link">
        <span class="md-ellipsis">TLS API Demo</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-ellipsis">Network Filter Demo for QEMU</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span class="md-ellipsis">Network Filter Demo for QEMU</span>
      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    <span class="md-ellipsis">General</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camkes-component-architecture" class="md-nav__link">
    <span class="md-ellipsis">CAmk<wbr>ES Component Architecture</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-protocol" class="md-nav__link">
    <span class="md-ellipsis">Message Protocol</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-input-data-required-by-the-sender-app" class="md-nav__link">
    <span class="md-ellipsis">Message Input Data Required by the Sender-<wbr>App</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#qemu-setup" class="md-nav__link">
    <span class="md-ellipsis">QEMU Setup</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-the-demo" class="md-nav__link">
    <span class="md-ellipsis">Building the Demo</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-demo" class="md-nav__link">
    <span class="md-ellipsis">Running the Demo</span>
  </a>
  
    <nav class="md-nav" aria-label="Running the Demo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#start-the-python-receiver-app" class="md-nav__link">
    <span class="md-ellipsis">Start the Python Receiver-<wbr>App</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-the-trentos-network-filter-system" class="md-nav__link">
    <span class="md-ellipsis">Start the TRENTOS Network Filter System</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-the-python-sender-app" class="md-nav__link">
    <span class="md-ellipsis">Start the Python Sender-<wbr>App</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#closing-the-demo" class="md-nav__link">
    <span class="md-ellipsis">Closing the Demo</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="demo-network-filter_nitrogen6-solox.html" class="md-nav__link">
        <span class="md-ellipsis">Network Filter Demo for Nitrogen6_<wbr>Solo<wbr>X</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
        <label class="md-nav__link" for="__nav_7">
          <span class="md-ellipsis">Tools</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Tools</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/proxy-application.html" class="md-nav__link">
        <span class="md-ellipsis">Proxy Application</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/configuration-provisioning-tool.html" class="md-nav__link">
        <span class="md-ellipsis">Configuration Provisioning Tool</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/ram-disk-generator-tool.html" class="md-nav__link">
        <span class="md-ellipsis">Ram<wbr>Disk Generator Tool</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/flasher-tool-rpi3b%2B.html" class="md-nav__link">
        <span class="md-ellipsis">Flasher Tool for RPi3B+</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" checked>
      
      
      
        <label class="md-nav__link" for="__nav_8">
          <span class="md-ellipsis">Development</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Development</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/buildsystem.html" class="md-nav__link">
        <span class="md-ellipsis">Buildsystem</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/function-call-tracing.html" class="md-nav__link">
        <span class="md-ellipsis">Function Call Tracing</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/hardware-tools.html" class="md-nav__link">
        <span class="md-ellipsis">Hardware Tools</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/runtime-debugging/runtime-debugging.html" class="md-nav__link">
        <span class="md-ellipsis">Runtime Debugging</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/runtime-debugging/debugging-qemu.html" class="md-nav__link">
        <span class="md-ellipsis">Debugging QEMU</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/runtime-debugging/debugging-hw-platforms_open-ocd.html" class="md-nav__link">
        <span class="md-ellipsis">Debugging HW Platforms Using Open<wbr>OCD</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/runtime-debugging/debugging-hw-platforms_segger.html" class="md-nav__link">
        <span class="md-ellipsis">Debugging HW Platforms Using Segger Tools</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/object-oriented-c.html" class="md-nav__link">
        <span class="md-ellipsis">Object Oriented C</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/known_issues.html" class="md-nav__link">
        <span class="md-ellipsis">Known Issues</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
        <label class="md-nav__link" for="__nav_9">
          <span class="md-ellipsis">Glossary</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Glossary" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Glossary</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/acronyms.html" class="md-nav__link">
        <span class="md-ellipsis">Acronyms</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/terms.html" class="md-nav__link">
        <span class="md-ellipsis">Terms</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general" class="md-nav__link">
    <span class="md-ellipsis">General</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#camkes-component-architecture" class="md-nav__link">
    <span class="md-ellipsis">CAmk<wbr>ES Component Architecture</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-protocol" class="md-nav__link">
    <span class="md-ellipsis">Message Protocol</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#message-input-data-required-by-the-sender-app" class="md-nav__link">
    <span class="md-ellipsis">Message Input Data Required by the Sender-<wbr>App</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#qemu-setup" class="md-nav__link">
    <span class="md-ellipsis">QEMU Setup</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#building-the-demo" class="md-nav__link">
    <span class="md-ellipsis">Building the Demo</span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-the-demo" class="md-nav__link">
    <span class="md-ellipsis">Running the Demo</span>
  </a>
  
    <nav class="md-nav" aria-label="Running the Demo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#start-the-python-receiver-app" class="md-nav__link">
    <span class="md-ellipsis">Start the Python Receiver-<wbr>App</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-the-trentos-network-filter-system" class="md-nav__link">
    <span class="md-ellipsis">Start the TRENTOS Network Filter System</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#start-the-python-sender-app" class="md-nav__link">
    <span class="md-ellipsis">Start the Python Sender-<wbr>App</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#closing-the-demo" class="md-nav__link">
    <span class="md-ellipsis">Closing the Demo</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="network-filter-demo-for-qemu">Network Filter Demo for QEMU<a class="headerlink" href="#network-filter-demo-for-qemu" title="Link to this heading">¶</a></h1>
<h2 id="general">General<a class="headerlink" href="#general" title="Link to this heading">¶</a></h2>
<p>This demo application showcases a simple application-layer Network Filter
utilizing two Ethernet ports. It analyzes messages received on the first
Ethernet port sent by a Sender-App and applies a filtering algorithm based on a
specific binary message protocol. Valid messages are forwarded to a Receiver-App
connected to the second Ethernet port.</p>
<h2 id="camkes-component-architecture">CAmkES Component Architecture<a class="headerlink" href="#camkes-component-architecture" title="Link to this heading">¶</a></h2>
<p><img alt="&quot;Demo Network Filter for QEMU - CAmkES Architecture&quot;" src="../_images/demo-network-filter_qemu-camkes-architecture.png" /></p>
<h2 id="message-protocol">Message Protocol<a class="headerlink" href="#message-protocol" title="Link to this heading">¶</a></h2>
<p>The example Network Filter analyses and filters the received data based
on a specific message protocol. The message protocol for the demo use
case is comprised of decimal GPS coordinates (WGS84) and altitude
values. It is specified as follows:</p>
<table class="docutils data align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Offset<br>[bytes]</p></th>
<th class="head"><p>Size<br>[bytes]*</p></th>
<th class="head"><p>Name / Description</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>4</p></td>
<td><p>MessageType<br>Defines the type of the message</p></td>
<td><p>unsigned int32</p></td>
<td><p>23 = WGS84 coordinates<br>all other values reserved</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>4</p></td>
<td><p>Latitude<br>Defines the latitude of the coordinate in degrees.</p></td>
<td><p>Float (IEEE 754)</p></td>
<td><p>min: -90.0<br>max: 90.0</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>4</p></td>
<td><p>Longitude<br>Defines the longitude of the coordinate in degrees.</p></td>
<td><p>Float (IEEE 754)</p></td>
<td><p>min: -180.0<br>max: 180.0</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>4</p></td>
<td><p>Altitude<br>Defines the altitude of the coordinate in meters above the ground.</p></td>
<td><p>signed int32</p></td>
<td><p>scale: 1<br>min: -1000<br>max: 10000</p></td>
</tr>
<tr class="row-even"><td><p>16</p></td>
<td><p>16</p></td>
<td><p>Checksum<br>MD5 checksum calculated over Bytes 0 to 15 of the message.</p></td>
<td><p>128 bit data</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>*Sorted according to the network byte order (= big-endian).</p>
<h2 id="message-input-data-required-by-the-sender-app">Message Input Data Required by the Sender-App<a class="headerlink" href="#message-input-data-required-by-the-sender-app" title="Link to this heading">¶</a></h2>
<p>Based on the message protocol outlined above, the <strong><code class="docutils literal notranslate"><span class="pre">input_data.txt</span></code></strong>
file found in the <strong><code class="docutils literal notranslate"><span class="pre">/host_applications/data</span></code></strong> folder provided in the
sources of the demo contains both valid and invalid messages defined to
showcase the filtering functionality of the demo system.</p>
<p>A valid message found in this file adheres to the outlined message
protocol and contains valid data for all required fields, as defined in
the example below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Valid messages.</span>
<span class="n">Type</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span> <span class="n">Latitude</span><span class="p">:</span> <span class="o">-</span><span class="mf">14.46219</span><span class="p">,</span> <span class="n">Longitude</span><span class="p">:</span> <span class="o">-</span><span class="mf">69.46332</span><span class="p">,</span> <span class="n">Altitude</span><span class="p">:</span> <span class="mi">76</span>
<span class="n">Type</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span> <span class="n">Latitude</span><span class="p">:</span> <span class="mf">48.21881</span><span class="p">,</span> <span class="n">Longitude</span><span class="p">:</span> <span class="mf">11.62477</span><span class="p">,</span> <span class="n">Altitude</span><span class="p">:</span> <span class="mi">492</span>
</code></pre></div>
</div>
<p>An invalid message can be defined in various ways (from completely random data
to merely one value of the payload being out of the allowed range). The
following example shows a “raw” message containing an invalid checksum to an
otherwise valid payload. The “0x” prefix indicates to the parser that the
following characters in the string should be interpreted as hexadecimal digits.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Invalid &quot;raw&quot; message below is a hex string made up of valid message data</span>
<span class="c1"># with an added invalid checksum. Should get caught by the filter.</span>
<span class="c1"># The valid content of the message is:</span>
<span class="c1"># Type: 23 Latitude: 19.07609, Longitude: 72.87742, Altitude: 14</span>
<span class="mh">0x0000001741989bd54291c13d0000000ee156c35f50a7337b600ea72941d1bd12</span>
</code></pre></div>
</div>
<p>If the “0x” prefix is not added, the script will interpret that line
as a string of unspecified random data as seen in the example below.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Unspecified random data. Should get caught by the filter.</span>
<span class="n">Fwmuu5ORXo2mSrGIjE7ETrSw7U5BLvO77xsn88IcXkUNC6oE0MbgrvOHHmttymVMqRLlqAvhHPSP1vf5</span>
</code></pre></div>
</div>
<p>When running the demo (see instructions below) this input file needs to
be passed to the Sender-App. The Sender-App will parse all the data from
the input file into messages that it will then send to the address of
the Network Filter demo system.</p>
<h2 id="qemu-setup">QEMU Setup<a class="headerlink" href="#qemu-setup" title="Link to this heading">¶</a></h2>
<p>The overview below visualizes how the required network environment is emulated
on the host machine running the Network Filter system in QEMU. The docker
container exposes port 5560 to which the Sender-App connects. Within the
container network, this port is forwarded to the address of the first network
stack contained in the demo system. Valid messages are sent using the second
network stack and forwarded to the Receiver-App running on the host.</p>
<p><img alt="&quot;Demo Network Filter for QEMU - QEMU Setup&quot;" src="../_images/demo-network-filter_qemu-setup.png" /></p>
<h2 id="building-the-demo">Building the Demo<a class="headerlink" href="#building-the-demo" title="Link to this heading">¶</a></h2>
<p>For building the Network Filter demo, the <strong><code class="docutils literal notranslate"><span class="pre">build-system.sh</span></code></strong> script has to be
used and executed within the <strong>trentos_build</strong> docker container. The following
command will invoke this build script from inside the <strong>trentos_build</strong> docker
container. The container will bind the current working folder to a volume
mounted under <strong><code class="docutils literal notranslate"><span class="pre">/host</span></code></strong>, execute the script, and then self-remove.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># Entering the SDK root directory</span>
<span class="nb">cd</span><span class="w"> </span>&lt;sdk_root_directory&gt;

<span class="c1"># Building the demo</span>
sdk/scripts/open_trentos_build_env.sh<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>sdk/build-system.sh<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>sdk/demos/demo_network_filter<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>zynq7000<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>build-zynq7000-Debug-demo_network_filter<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-DCMAKE_BUILD_TYPE<span class="o">=</span>Debug
</code></pre></div>
</div>
<p>As a result, the folder <strong><code class="docutils literal notranslate"><span class="pre">build-zynq7000-Debug-demo_network_filter</span></code></strong> is
created, containing all the build artifacts.</p>
<p>For an in-depth discussion about building TRENTOS systems, different possible
configurations, and parameters, please refer to the
<a class="reference internal" href="../development/buildsystem.html"><span class="std std-doc">Buildsystem</span></a> section.</p>
<h2 id="running-the-demo">Running the Demo<a class="headerlink" href="#running-the-demo" title="Link to this heading">¶</a></h2>
<p>The Network Filter demo essentially contains three different applications that
need to run to create the message chain starting from the Sender-App and ending
(in the case of valid messages) at the Receiver-App. To monitor the messages
traveling through the whole chain, it is recommended to place all three separate
terminal windows required to run the applications next to each other on
the screen. Terminal multiplexer tools such as <strong><code class="docutils literal notranslate"><span class="pre">tmux</span></code></strong> are additionally
recommended for this task. The example screenshot below shows a <strong><code class="docutils literal notranslate"><span class="pre">tmux</span></code></strong>
session with a single terminal window split into three separate panes
(top-center showing the output of the demo system in QEMU, lower-left pane
showing the output of the Sender-App, and the lower-right side showing the
output of the Receiver-App).</p>
<p><img alt="&quot;Demo Network Filter for QEMU - tmux Example&quot;" src="../_images/demo-network-filter_qemu-terminal-screenshot.png" /></p>
<h3 id="start-the-python-receiver-app">Start the Python Receiver-App<a class="headerlink" href="#start-the-python-receiver-app" title="Link to this heading">¶</a></h3>
<p>Open a terminal window dedicated to view the incoming messages the
Receiver-App receives and run the Python script with the command
provided below.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><code>sdk/demos/demo_network_filter/host_applications/filter_demo_receiver.py
</code></pre></div>
</div>
<p>On successful start-up, the script will indicate that it is ready to
receive an incoming connection.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="go">Starting Receiver-App on 172.17.0.1:6000...</span>
<span class="gp">#</span><span class="c1">#==============================================================================</span>
<span class="go">Waiting for a connection...</span>
</code></pre></div>
</div>
<h3 id="start-the-trentos-network-filter-system">Start the TRENTOS Network Filter System<a class="headerlink" href="#start-the-trentos-network-filter-system" title="Link to this heading">¶</a></h3>
<p>Open a new terminal window and call the <strong><code class="docutils literal notranslate"><span class="pre">run_demo.sh</span></code></strong> script found
in the root folder of the demo from within the <strong><code class="docutils literal notranslate"><span class="pre">trentos_test</span></code></strong> docker
container and pass it the relative paths of the demo build directory
(<strong><code class="docutils literal notranslate"><span class="pre">build-zynq7000-Debug-demo_network_filter</span></code></strong>) and the <strong><code class="docutils literal notranslate"><span class="pre">sdk</span></code></strong>
folder inside the SDK root directory. Since the demo requires the
container to expose port 5560 to the host and subsequent forwarding of
this port to the demo system running inside the container, the command
needs to be extended with parameters to set up this required
environment. The demo itself provides a <strong><code class="docutils literal notranslate"><span class="pre">docker</span></code></strong> folder containing a
demo specific <strong><code class="docutils literal notranslate"><span class="pre">entrypoint.sh</span></code></strong> script to set up the mentioned port forwarding
rules.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><code><span class="c1"># The run_demo.sh script takes in 2 arguments:</span>
<span class="c1">#   - the path to the build directory of the Network Filter demo</span>
<span class="c1">#   - the path to the sdk directory</span>
sdk/scripts/open_trentos_test_env.sh<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-d<span class="w"> </span><span class="s2">&quot;-p 5560:5560&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-d<span class="w"> </span><span class="s2">&quot;-v </span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/sdk/demos/demo_network_filter/docker:/docker&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-d<span class="w"> </span><span class="s2">&quot;--entrypoint=/docker/entrypoint.sh&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>sdk/demos/demo_network_filter/run_demo.sh<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>build-zynq7000-Debug-demo_network_filter<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>sdk
</code></pre></div>
</div>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">run_demo.sh</span></code></strong> script will run QEMU with the system image of the
demo and additionally start up the proxy that provides the host’s
networking capabilities to the system running in QEMU. After pressing
&lt;Enter&gt;, the system will booted up, and it should eventually stop with
the following output, indicating that it is ready to accept a new
incoming connection from the Sender-App.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="go">...</span>

<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico_nic.c:237: picoTCP Device created: trentos_nic_driver</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:432: [socket 0/0x191b2c] socket opened</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:563: [socket 0/0x191b2c] binding to port 5560</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/components/FilterListener/src/FilterListener.c:352: Accepting new connection</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico_nic.c:129: Falling back to legacy interface.</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico_nic.c:129: Falling back to legacy interface.</span>

<span class="go">...</span>
</code></pre></div>
</div>
<h3 id="start-the-python-sender-app">Start the Python Sender-App<a class="headerlink" href="#start-the-python-sender-app" title="Link to this heading">¶</a></h3>
<p>Once the Receiver-App and the Network Filter system are running, open a
third terminal to start the Sender-App and view its output. Since this
app relies on input data for the messages it should send, we need to
call to the script with the <strong><code class="docutils literal notranslate"><span class="pre">--input</span></code></strong> command line parameter
followed by the path to the input file.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><code>sdk/demos/demo_network_filter/host_applications/filter_demo_sender.py<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--input<span class="w"> </span>sdk/demos/demo_network_filter/host_applications/data/input_data.txt
</code></pre></div>
</div>
<p>As soon as the Sender-App is running and successfully connected to the Network
Filter system, it will proceed to send a message about every three seconds.</p>
<p>The snippet below shows the output generated by the Sender-App that in this
example has already sent three messages to the Network Filter system. Since the
second message shown here consists of unspecified data, this message will be
caught by the Network Filter and will not be seen in the output of the
Receiver-App. The other two messages shown below have both the valid structure
and a valid payload regarding the defined protocol. Therefore these two messages
will pass all the checks of the Network Filter and will be forwarded to the
Receiver-App.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="go">Sending all messages to 172.17.0.1:5560...</span>

<span class="gp">#</span><span class="c1">#==============================================================================</span>
<span class="go">Established connection to 172.17.0.1:5560.</span>
<span class="go">Sending message...</span>

<span class="go">Message Content:</span>

<span class="go">Type: GPS-Data</span>
<span class="go">Latitude: 47.59760°</span>
<span class="go">Longitude: 9.59707°</span>
<span class="go">Altitude: 413 m</span>
<span class="go">Checksum: 6a0c5f80de4afec6e905a17849248b69</span>


<span class="gp">#</span><span class="c1">#==============================================================================</span>
<span class="go">Established connection to 172.17.0.1:5560.</span>
<span class="go">Sending message...</span>

<span class="go">Unspecified content:</span>

<span class="go">b&#39;jcIP0LCesok8CAoAqdanYeBPzEA2P7c1L6KhSxSbSa8gTqgCszDnIoGNrdUoOQyo9NCQjYUGvDad7ilA&#39;</span>


<span class="gp">#</span><span class="c1">#==============================================================================</span>
<span class="go">Established connection to 172.17.0.1:5560.</span>
<span class="go">Sending message...</span>

<span class="go">Message Content:</span>

<span class="go">Type: GPS-Data</span>
<span class="go">Latitude: -14.46219°</span>
<span class="go">Longitude: -69.46332°</span>
<span class="go">Altitude: 76 m</span>
<span class="go">Checksum: 28dc8618b1a3450035c6bced4045ad18</span>

<span class="go">...</span>
</code></pre></div>
</div>
<h2 id="closing-the-demo">Closing the Demo<a class="headerlink" href="#closing-the-demo" title="Link to this heading">¶</a></h2>
<p>Eventually, all invalid and valid messages described in the
<strong><code class="docutils literal notranslate"><span class="pre">input_data.txt</span></code></strong> will have been sent by the Sender-App and it will
close with a final statement.</p>
<p>Final Output Sender-App:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="go">...</span>

<span class="gp">#</span><span class="c1">#==============================================================================</span>
<span class="go">Established connection to 172.17.0.1:5560.</span>
<span class="go">Sending message...</span>

<span class="go">Message Content:</span>

<span class="go">Type: GPS-Data</span>
<span class="go">Latitude: 27.98805°</span>
<span class="go">Longitude: 86.92527°</span>
<span class="go">Altitude: 8849 m</span>
<span class="go">Checksum: 1c5586e2c782bd38778f3862768d06af</span>

<span class="go">All messages successfully transmitted.</span>

<span class="go">...</span>
</code></pre></div>
</div>
<p>Final Output Receiver-App:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="go">...</span>

<span class="gp">#</span><span class="c1">#==============================================================================</span>
<span class="go">Waiting for a connection...</span>
<span class="go">Connection from 172.17.0.3:3126.</span>
<span class="go">Received new message from client.</span>

<span class="go">Message Content:</span>

<span class="go">Type: GPS-Data</span>
<span class="go">Latitude: 27.98805°</span>
<span class="go">Longitude: 86.92527°</span>
<span class="go">Altitude: 8849 m</span>
<span class="go">Checksum: 1c5586e2c782bd38778f3862768d06af</span>


<span class="gp">#</span><span class="c1">#==============================================================================</span>
<span class="go">Waiting for a connection...</span>

<span class="go">...</span>
</code></pre></div>
</div>
<p>Final Execution Output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><code><span class="go">...</span>

<span class="go">INFO: /host/sdk/demos/demo_network_filter/components/FilterListener/src/FilterListener.c:382: Waiting for a new message</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:309: [socket 1/0x191ddc] connection closed by 172.17.0.1</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/protocol/MessageProtocol.c:56: Message Content:</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/protocol/MessageProtocol.c:57: Type 23</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/protocol/MessageProtocol.c:58: Latitude 27.98805°</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/protocol/MessageProtocol.c:59: Longitude 86.92527°</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/protocol/MessageProtocol.c:60: Altitude 8849 m</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/components/FilterListener/src/FilterListener.c:284: Forwarding received message</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:432: [socket 0/0x191f34] socket opened</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:309: [socket 1/0x191ddc] connection closed by 172.17.0.1</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:309: [socket 1/0x191ddc] connection closed by 172.17.0.1</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:287: [socket 0/0x191f34] connection established to 10.0.0.1</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:494: [socket 0/0x191f34] socket closed</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/components/FilterListener/src/FilterListener.c:194: Message successfully sent</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/components/FilterListener/src/FilterListener.c:382: Waiting for a new message</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:830: [socket 1/0x191ddc] read() found connection closed</span>
<span class="go">INFO: /host/sdk/components/NetworkStack_PicoTcp/src/network_stack_pico.c:494: [socket 1/0x191ddc] socket closed</span>
<span class="go">INFO: /host/sdk/demos/demo_network_filter/components/FilterListener/src/FilterListener.c:352: Accepting new connection</span>

<span class="go">...</span>
</code></pre></div>
</div>
<p>Other than the Sender-App the Receiver-App will not stop automatically
and can be quit by pressing &lt;Ctrl-C&gt;. If you wish to stop the
execution of the Sender-App at an earlier point, you can also quit it by
pressing &lt;Ctrl-C&gt;.</p>
<p>To exit the Network Filter system running in QEMU press &lt;Ctrl-A&gt; and
&lt;X&gt; followed by &lt;Ctrl-C&gt; to additionally close the proxy
application.</p>






                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="demo-tls.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: TLS API Demo" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              TLS API Demo
            </div>
          </div>
        </a>
      
      
        
        <a href="demo-network-filter_nitrogen6-solox.html" class="md-footer__link md-footer__link--next" aria-label="Next: Network Filter Demo for Nitrogen6_SoloX" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Network Filter Demo for Nitrogen6_SoloX
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2023-2024, HENSOLDT Cyber GmbH.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    8.1.3.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.tabs", "navigation.sections", "navigation.instant", "header.autohide", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "toc.follow", "toc.sticky"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike", "staticVersions": null, "versionPath": null}}</script>
    
      
        <script src="../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
    
  </body>
</html>