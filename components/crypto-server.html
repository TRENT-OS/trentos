

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="">
    
    
      
        <title>CryptoServer - Documentation</title>
      
    
    
      
        
        
      
      

    
    
    
      
        
        
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
        <link rel="stylesheet" type="text/css" href="../_static/sphinx_immaterial_theme.4b4a8c74e2ff2ab5b.min.css?v=afa97f93" />
        <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="green">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Documentation" class="md-header__button md-logo" aria-label="Documentation" data-md-component="logo">
      <img src="../_static/MC_Produkt_Logo_Trentos_gray.png" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              CryptoServer
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="black" data-md-color-accent="green"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="green"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/TRENT-OS/trentos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    trentos
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../introduction/getting-started.html" class="md-tabs__link">
      <span class="md-ellipsis">Introduction</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../api/cert-parser_api.html" class="md-tabs__link">
      <span class="md-ellipsis">API</span>
    </a>
  </li>

      
        
  
  
    
  


  <li class="md-tabs__item">
    <a href="cert-server.html" class="md-tabs__link md-tabs__link--active">
      <span class="md-ellipsis">Components</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../component-interfaces/nic-interface.html" class="md-tabs__link">
      <span class="md-ellipsis">Component Interfaces</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../platform-support/using-sd-card-with-trentos.html" class="md-tabs__link">
      <span class="md-ellipsis">Platform Support</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../demos/demo-iot_qemu.html" class="md-tabs__link">
      <span class="md-ellipsis">Demos</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../tools/proxy-application.html" class="md-tabs__link">
      <span class="md-ellipsis">Tools</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../development/buildsystem.html" class="md-tabs__link">
      <span class="md-ellipsis">Development</span>
    </a>
  </li>

      
        
  
  


  <li class="md-tabs__item">
    <a href="../glossary/acronyms.html" class="md-tabs__link">
      <span class="md-ellipsis">Glossary</span>
    </a>
  </li>

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Documentation" class="md-nav__button md-logo" aria-label="Documentation" data-md-component="logo">
      <img src="../_static/MC_Produkt_Logo_Trentos_gray.png" alt="logo">
    </a>
    Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/TRENT-OS/trentos" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    trentos
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_1">
          <span class="md-ellipsis">Introduction</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Introduction</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/getting-started.html" class="md-nav__link">
        <span class="md-ellipsis">Getting Started</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/sel4.html" class="md-nav__link">
        <span class="md-ellipsis">se<wbr>L4 Microkernel</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/camkes.html" class="md-nav__link">
        <span class="md-ellipsis">CAmk<wbr>ES Framework</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2">
          <span class="md-ellipsis">API</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">API</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/cert-parser_api.html" class="md-nav__link">
        <span class="md-ellipsis">Cert<wbr>Parser API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/config-service_api.html" class="md-nav__link">
        <span class="md-ellipsis">Config<wbr>Service API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/configuration_service_api.html" class="md-nav__link">
        <span class="md-ellipsis">Configuration Service</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/crypto_api.html" class="md-nav__link">
        <span class="md-ellipsis">Crypto API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/file-system_api.html" class="md-nav__link">
        <span class="md-ellipsis">File<wbr>System API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/key-store_api.html" class="md-nav__link">
        <span class="md-ellipsis">Key<wbr>Store API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/logger_api.html" class="md-nav__link">
        <span class="md-ellipsis">Logger API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/socket_api.html" class="md-nav__link">
        <span class="md-ellipsis">Socket API</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/tls_api.html" class="md-nav__link">
        <span class="md-ellipsis">TLS API</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3">
          <span class="md-ellipsis">Components</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Components" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Components</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="cert-server.html" class="md-nav__link">
        <span class="md-ellipsis">Cert<wbr>Server</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="chan-mux.html" class="md-nav__link">
        <span class="md-ellipsis">Chan<wbr>Mux</span>
      </a>
    </li>
  

            
          
            
              
  
  
    
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          <span class="md-ellipsis">Crypto<wbr>Server</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="#" class="md-nav__link md-nav__link--active">
        <span class="md-ellipsis">Crypto<wbr>Server</span>
      </a>
      
        

<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">Overview</span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    <span class="md-ellipsis">Concepts</span>
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trust-model" class="md-nav__link">
    <span class="md-ellipsis">Trust Model</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ownership-model" class="md-nav__link">
    <span class="md-ellipsis">Ownership Model</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">Architecture</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation" class="md-nav__link">
    <span class="md-ellipsis">Implementation</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">Usage</span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration-of-the-component-in-cmake" class="md-nav__link">
    <span class="md-ellipsis">Declaration of the Component in CMake</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instantiation-and-configuration-in-camkes" class="md-nav__link">
    <span class="md-ellipsis">Instantiation and Configuration in CAmk<wbr>ES</span>
  </a>
  
    <nav class="md-nav" aria-label="Instantiation and Configuration in CAmkES">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaring-the-component" class="md-nav__link">
    <span class="md-ellipsis">Declaring the Component</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instantiating-and-connecting-the-component" class="md-nav__link">
    <span class="md-ellipsis">Instantiating and Connecting the Component</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-instance0" class="md-nav__link">
    <span class="md-ellipsis">Configuring the Instance0</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">Example</span>
  </a>
  
    <nav class="md-nav" aria-label="Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instantiation-of-the-component-in-cmake" class="md-nav__link">
    <span class="md-ellipsis">Instantiation of the Component in CMake</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id1" class="md-nav__link">
    <span class="md-ellipsis">Instantiation and Configuration in CAmk<wbr>ES</span>
  </a>
  
    <nav class="md-nav" aria-label="Instantiation and Configuration in CAmkES">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id2" class="md-nav__link">
    <span class="md-ellipsis">Declaring the Component</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id3" class="md-nav__link">
    <span class="md-ellipsis">Instantiating and Connecting the Component</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-instance" class="md-nav__link">
    <span class="md-ellipsis">Configuring the Instance</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-component-s-interfaces-in-c" class="md-nav__link">
    <span class="md-ellipsis">Using the Component’s Interfaces in C</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="entropy-source.html" class="md-nav__link">
        <span class="md-ellipsis">Entropy<wbr>Source</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="network-stack_pico-tcp.html" class="md-nav__link">
        <span class="md-ellipsis">Network<wbr>Stack_<wbr>Pico<wbr>Tcp</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="nic_chan-mux.html" class="md-nav__link">
        <span class="md-ellipsis">NIC_<wbr>Chan<wbr>Mux</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="nic_dummy.html" class="md-nav__link">
        <span class="md-ellipsis">NIC_<wbr>Dummy</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="nic_imx6.html" class="md-nav__link">
        <span class="md-ellipsis">NIC_<wbr>i<wbr>MX6</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="nic_rpi.html" class="md-nav__link">
        <span class="md-ellipsis">NIC_<wbr>RPi</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="ram-disk.html" class="md-nav__link">
        <span class="md-ellipsis">Ram<wbr>Disk</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="rpi_spi_flash.html" class="md-nav__link">
        <span class="md-ellipsis">RPi_<wbr>SPI_<wbr>Flash</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="sd-host-controller.html" class="md-nav__link">
        <span class="md-ellipsis">Sd<wbr>Host<wbr>Controller</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="storage_chan-mux.html" class="md-nav__link">
        <span class="md-ellipsis">Storage_<wbr>Chan<wbr>Mux</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="storage-server.html" class="md-nav__link">
        <span class="md-ellipsis">Storage<wbr>Server</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="time-server.html" class="md-nav__link">
        <span class="md-ellipsis">Time<wbr>Server</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="tls-server.html" class="md-nav__link">
        <span class="md-ellipsis">Tls<wbr>Server</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="uart.html" class="md-nav__link">
        <span class="md-ellipsis">UART</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4">
          <span class="md-ellipsis">Component Interfaces</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Component Interfaces" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Component Interfaces</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../component-interfaces/nic-interface.html" class="md-nav__link">
        <span class="md-ellipsis">NIC Interface</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../component-interfaces/socket-interface.html" class="md-nav__link">
        <span class="md-ellipsis">Socket Interface</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
        <label class="md-nav__link" for="__nav_5">
          <span class="md-ellipsis">Platform Support</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Platform Support" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Platform Support</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/using-sd-card-with-trentos.html" class="md-nav__link">
        <span class="md-ellipsis">Using an SD Card with a TRENTOS System</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/rpi-3-model-b%2B/platform.html" class="md-nav__link">
        <span class="md-ellipsis">RPi3B+ Platform</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/nitrogen6-solo-x/platform.html" class="md-nav__link">
        <span class="md-ellipsis">Nitrogen6_<wbr>Solo<wbr>X Platform</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/bd-sl-i.mx6/platform.html" class="md-nav__link">
        <span class="md-ellipsis">BD-<wbr>SL-<wbr>i.<wbr>MX6 Platform</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../platform-support/nvidia-tegra/platform.html" class="md-nav__link">
        <span class="md-ellipsis">Nvidia Tegra</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
        <label class="md-nav__link" for="__nav_6">
          <span class="md-ellipsis">Demos</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Demos" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Demos</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../demos/demo-iot_qemu.html" class="md-nav__link">
        <span class="md-ellipsis">Io<wbr>T Demo App for QEMU</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../demos/demo-iot_rpi3b%2B.html" class="md-nav__link">
        <span class="md-ellipsis">Io<wbr>T Demo App for RPi3B+</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../demos/demo-iot_imx6.html" class="md-nav__link">
        <span class="md-ellipsis">Io<wbr>T Demo App for i.<wbr>MX6</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../demos/demo-tls.html" class="md-nav__link">
        <span class="md-ellipsis">TLS API Demo</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../demos/demo-network-filter_qemu.html" class="md-nav__link">
        <span class="md-ellipsis">Network Filter Demo for QEMU</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../demos/demo-network-filter_nitrogen6-solox.html" class="md-nav__link">
        <span class="md-ellipsis">Network Filter Demo for Nitrogen6_<wbr>Solo<wbr>X</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" checked>
      
      
      
        <label class="md-nav__link" for="__nav_7">
          <span class="md-ellipsis">Tools</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Tools" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Tools</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/proxy-application.html" class="md-nav__link">
        <span class="md-ellipsis">Proxy Application</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/configuration-provisioning-tool.html" class="md-nav__link">
        <span class="md-ellipsis">Configuration Provisioning Tool</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/ram-disk-generator-tool.html" class="md-nav__link">
        <span class="md-ellipsis">Ram<wbr>Disk Generator Tool</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../tools/flasher-tool-rpi3b%2B.html" class="md-nav__link">
        <span class="md-ellipsis">Flasher Tool for RPi3B+</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" checked>
      
      
      
        <label class="md-nav__link" for="__nav_8">
          <span class="md-ellipsis">Development</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Development" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Development</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/buildsystem.html" class="md-nav__link">
        <span class="md-ellipsis">Buildsystem</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/function-call-tracing.html" class="md-nav__link">
        <span class="md-ellipsis">Function Call Tracing</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/hardware-tools.html" class="md-nav__link">
        <span class="md-ellipsis">Hardware Tools</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/runtime-debugging/runtime-debugging.html" class="md-nav__link">
        <span class="md-ellipsis">Runtime Debugging</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/runtime-debugging/debugging-qemu.html" class="md-nav__link">
        <span class="md-ellipsis">Debugging QEMU</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/runtime-debugging/debugging-hw-platforms_open-ocd.html" class="md-nav__link">
        <span class="md-ellipsis">Debugging HW Platforms Using Open<wbr>OCD</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/runtime-debugging/debugging-hw-platforms_segger.html" class="md-nav__link">
        <span class="md-ellipsis">Debugging HW Platforms Using Segger Tools</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/object-oriented-c.html" class="md-nav__link">
        <span class="md-ellipsis">Object Oriented C</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../development/known_issues.html" class="md-nav__link">
        <span class="md-ellipsis">Known Issues</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
        <label class="md-nav__link" for="__nav_9">
          <span class="md-ellipsis">Glossary</span>
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Glossary" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          <span class="md-ellipsis">Glossary</span>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/acronyms.html" class="md-nav__link">
        <span class="md-ellipsis">Acronyms</span>
      </a>
    </li>
  

            
          
            
              
  
  
  
  
    <li class="md-nav__item">
      <a href="../glossary/terms.html" class="md-nav__link">
        <span class="md-ellipsis">Terms</span>
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">Overview</span>
  </a>
  
    <nav class="md-nav" aria-label="Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#concepts" class="md-nav__link">
    <span class="md-ellipsis">Concepts</span>
  </a>
  
    <nav class="md-nav" aria-label="Concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#trust-model" class="md-nav__link">
    <span class="md-ellipsis">Trust Model</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ownership-model" class="md-nav__link">
    <span class="md-ellipsis">Ownership Model</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architecture" class="md-nav__link">
    <span class="md-ellipsis">Architecture</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#implementation" class="md-nav__link">
    <span class="md-ellipsis">Implementation</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage" class="md-nav__link">
    <span class="md-ellipsis">Usage</span>
  </a>
  
    <nav class="md-nav" aria-label="Usage">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaration-of-the-component-in-cmake" class="md-nav__link">
    <span class="md-ellipsis">Declaration of the Component in CMake</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instantiation-and-configuration-in-camkes" class="md-nav__link">
    <span class="md-ellipsis">Instantiation and Configuration in CAmk<wbr>ES</span>
  </a>
  
    <nav class="md-nav" aria-label="Instantiation and Configuration in CAmkES">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#declaring-the-component" class="md-nav__link">
    <span class="md-ellipsis">Declaring the Component</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#instantiating-and-connecting-the-component" class="md-nav__link">
    <span class="md-ellipsis">Instantiating and Connecting the Component</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-instance0" class="md-nav__link">
    <span class="md-ellipsis">Configuring the Instance0</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">Example</span>
  </a>
  
    <nav class="md-nav" aria-label="Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#instantiation-of-the-component-in-cmake" class="md-nav__link">
    <span class="md-ellipsis">Instantiation of the Component in CMake</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id1" class="md-nav__link">
    <span class="md-ellipsis">Instantiation and Configuration in CAmk<wbr>ES</span>
  </a>
  
    <nav class="md-nav" aria-label="Instantiation and Configuration in CAmkES">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#id2" class="md-nav__link">
    <span class="md-ellipsis">Declaring the Component</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#id3" class="md-nav__link">
    <span class="md-ellipsis">Instantiating and Connecting the Component</span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-the-instance" class="md-nav__link">
    <span class="md-ellipsis">Configuring the Instance</span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-component-s-interfaces-in-c" class="md-nav__link">
    <span class="md-ellipsis">Using the Component’s Interfaces in C</span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset" role="main">
                  


<h1 id="cryptoserver">CryptoServer<a class="headerlink" href="#cryptoserver" title="Link to this heading">¶</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h2>
<p>The CryptoServer encapsulates key handling (e.g. storing, loading)
and crypto operations (e.g. generation of signatures, etc.) in an
isolated component. It is supposed to be a central element of the
TRENTOS security architecture, usable by other CAmkES components.</p>
<p><strong>Info:</strong> The CryptoServer uses the KeyStore for the persisting of key
material. Since the KeyStore <em>at this time</em> does not support encryption
or integrity protection, it needs to be ensured that keys cannot be
extracted easily (e.g. by using only internal/sealed memories, etc.).</p>
<h3 id="concepts">Concepts<a class="headerlink" href="#concepts" title="Link to this heading">¶</a></h3>
<p>In the following, we introduce the trust model and the idea of “key ownership”
specific to the CryptoServer.</p>
<h4 id="trust-model">Trust Model<a class="headerlink" href="#trust-model" title="Link to this heading">¶</a></h4>
<p>The CryptoServer component itself is trusted. It is used to isolate
sensitive data (e.g. keys) in its own component from the rest of the
system, which is potentially not trusted.</p>
<h4 id="ownership-model">Ownership Model<a class="headerlink" href="#ownership-model" title="Link to this heading">¶</a></h4>
<p>Here we shortly describe certain concepts that are introduced in order
to implement the requirements:</p>
<ul class="simple">
<li><p><strong>Component IDs:</strong> In a microkernel system all connections between
components have a unique ID. Based on this, we can identify the
sources and sinks of RPC communication.</p></li>
<li><p><strong>Key name:</strong> Cryptographic keys are stored in the KeyStore under a
given name. This name is used to address a key when interacting with
the CryptoServer.</p></li>
<li><p><strong>Ownership of keys</strong>: The concept of “key ownership” means that
the entity who creates a key (identified by its ID) in the
CryptoServer (via generate/import) is considered to be its owner and
is initially the only entity who can load and then use that key.</p></li>
<li><p><strong>Access rights on keys</strong>: Based on the idea of ownership, a policy
checker can be implemented which checks whether application X can
use a key owned by application Y (where X and Y are component IDs).</p></li>
</ul>
<h3 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Link to this heading">¶</a></h3>
<p>The CryptoServer makes use of the <a class="reference internal" href="../api/key-store_api.html"><span class="std std-doc">Keystore API</span></a> and
the <a class="reference internal" href="../api/crypto_api.html"><span class="std std-doc">Crypto API</span></a>. The CryptoServer uses both internally
and extends them with the ownership concept for keys. Every client of the
CryptoServer has its own instance of the <a class="reference internal" href="../api/crypto_api.html"><span class="std std-doc">Crypto API</span></a> and
KeyStore. This way, there is no way one client can interfere with another
client’s keys or cryptographic operations.</p>
<p>In the following diagram, we see that the CryptoServer exposes two
interfaces via a single CAmkES RPC endpoint denoted here as
<strong><code class="docutils literal notranslate"><span class="pre">cryptoServer_rpc</span></code></strong>:</p>
<ol class="arabic simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">if_OS_Crypto</span></code></strong>: This is the RPC interface internally used by the
<a class="reference internal" href="../api/crypto_api.html"><span class="std std-doc">Crypto API</span></a>; as a result, the CryptoServer can be
used as RPC server for a <a class="reference internal" href="../api/crypto_api.html"><span class="std std-doc">Crypto API</span></a> instance
configured in <strong><code class="docutils literal notranslate"><span class="pre">OS_Crypto_MODE_CLIENT</span></code></strong> or <strong><code class="docutils literal notranslate"><span class="pre">OS_Crypto_MODE_KEY_SWITCH</span></code></strong>
mode.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">if_CryptoServer</span></code></strong>: This is to be used by the client(s) to explicitly load
and store keys. The “ownership” concept introduced above applies to this
interface.</p></li>
</ol>
<pre  class="mermaid">
        flowchart TD
    %% App Node
    subgraph App
        Application(Application)
        CryptoServer_client(CryptoServer_client)
        subgraph CryptoApi_Client[&quot;Crypto Library&quot;]
            OS_Crypto_App[OS_Crypto]
            CryptoLibClient[CryptoLibClient]
            CryptoLib_App[CryptoLib]
        end
        Application --&gt; OS_Crypto_App
        Application --&gt; CryptoServer_client
        OS_Crypto_App --&gt; CryptoLibClient
        OS_Crypto_App --&gt; CryptoLib_App
    end

    %% CryptoServer Node
    subgraph CryptoServer
        OS_KeyStore[OS_KeyStore]
        cryptoServer_rpc[cryptoServer_rpc]
        subgraph CryptoApi_Server[&quot;Crypto Library&quot;]
            OS_Crypto_Server[OS_Crypto]
            CryptoLib_Server[CryptoLib]
        end
        CryptoServer_client -. &quot;if_CryptoServer&quot; .- cryptoServer_rpc
        cryptoServer_rpc --&gt; OS_Crypto_Server
        cryptoServer_rpc --&gt; OS_KeyStore
        OS_Crypto_Server --&gt; CryptoLib_Server
        CryptoLibClient -. &quot;if_OS_Crypto&quot; .- cryptoServer_rpc
    end
    </pre><p>Please note that on the side of the application component, the
<strong><code class="docutils literal notranslate"><span class="pre">cryptoServer_rpc</span></code></strong> endpoint is never accessed directly but always through
client libraries:</p>
<ul class="simple">
<li><p>Functionality related to <strong><code class="docutils literal notranslate"><span class="pre">if_OS_Crypto</span></code></strong> is accessed through
an instance of the <a class="reference internal" href="../api/crypto_api.html"><span class="std std-doc">Crypto API</span></a> library which
internally implements an RPC client for.</p></li>
<li><p>Functionality related to <strong><code class="docutils literal notranslate"><span class="pre">if_CryptoServer</span></code></strong> is accessed through
<strong><code class="docutils literal notranslate"><span class="pre">CryptoServer_client</span></code></strong> module, which internally implements an RPC client
for.</p></li>
</ul>
<h3 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h3>
<p>The CryptoServer maps all client requests to its internal data structure based
on the client’s seL4 badge ID. The data structure is effectively an array with
an entry for every client. The badge ID is used as an index into this array, to
retrieve a client’s <a class="reference internal" href="../api/key-store_api.html"><span class="std std-doc">Keystore API</span></a> and
<a class="reference internal" href="../api/crypto_api.html"><span class="std std-doc">Crypto API</span></a> context.</p>
<p>The CryptoServer does not allow the exporting of key material through
the <a class="reference internal" href="../api/crypto_api.html"><span class="std std-doc">Crypto API</span></a>’s <strong><code class="docutils literal notranslate"><span class="pre">OS_Crypto_Key_export()</span></code></strong> function.
This is to ensure that keys that are generated in the CryptoServer cannot leave
it and thus won’t be compromised.</p>
<p>The CryptoServer requires badges/IDs to be in the interval (101-108) and
supports up to 8 clients.</p>
<h2 id="usage">Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h2>
<p>This is how the component can be instantiated in the system.</p>
<h3 id="declaration-of-the-component-in-cmake">Declaration of the Component in CMake<a class="headerlink" href="#declaration-of-the-component-in-cmake" title="Link to this heading">¶</a></h3>
<p>The CryptoServer can be instantiated via the following:</p>
<div class="highlight-CMake notranslate"><div class="highlight"><pre><span></span><code><span class="nb">CryptoServer_DeclareCAmkESComponent</span><span class="p">(</span>
<span class="w">    </span><span class="s">&lt;NameOfComponent&gt;</span>
<span class="p">)</span>
</code></pre></div>
</div>
<p>In order to use the CryptoServer’s client interface, the respective component’s
client code has to include it as part of its LIBS parameter:</p>
<div class="highlight-CMake notranslate"><div class="highlight"><pre><span></span><code><span class="nb">DeclareCAmkESComponent</span><span class="p">(</span>
<span class="w">    </span><span class="s">&lt;Client&gt;</span>
<span class="w">    </span><span class="s">SOURCES</span>
<span class="w">        </span><span class="s">...</span>
<span class="w">    </span><span class="s">C_FLAGS</span>
<span class="w">        </span><span class="s">...</span>
<span class="w">    </span><span class="s">LIBS</span>
<span class="w">        </span><span class="s">...</span>
<span class="w">        </span><span class="s">os_crypto</span>
<span class="w">        </span><span class="s">&lt;NameOfComponent&gt;_client</span>
<span class="p">)</span>
</code></pre></div>
</div>
<p>Please note that <strong>os_crypto</strong> needs to be added as well, to be able to
use the CryptoServer through the <a class="reference internal" href="../api/crypto_api.html"><span class="std std-doc">Crypto API</span></a>.</p>
<h3 id="instantiation-and-configuration-in-camkes">Instantiation and Configuration in CAmkES<a class="headerlink" href="#instantiation-and-configuration-in-camkes" title="Link to this heading">¶</a></h3>
<p>The CryptoServer offers two interfaces and uses another one, which is
shown here.</p>
<h4 id="declaring-the-component">Declaring the Component<a class="headerlink" href="#declaring-the-component" title="Link to this heading">¶</a></h4>
<p>The declaration of the CryptoServer works as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;CryptoServer/camkes/CryptoServer.camkes&quot;</span>
<span class="n">CryptoServer_COMPONENT_DEFINE</span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">NameOfComponent</span><span class="o">&gt;</span>
<span class="p">)</span>
</code></pre></div>
</div>
<h4 id="instantiating-and-connecting-the-component">Instantiating and Connecting the Component<a class="headerlink" href="#instantiating-and-connecting-the-component" title="Link to this heading">¶</a></h4>
<p>The CryptoServer uses <strong><code class="docutils literal notranslate"><span class="pre">if_OS_Entropy</span></code></strong> and <strong><code class="docutils literal notranslate"><span class="pre">if_OS_Storage</span></code></strong>, which need to
be set up before connecting any clients:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="n">component</span><span class="w"> </span><span class="o">&lt;</span><span class="n">NameOfComponent</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">nameOfInstance</span><span class="o">&gt;</span><span class="p">;</span>

<span class="n">CryptoServer_INSTANCE_CONNECT</span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">nameOfInstance</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">entropy</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfInterface</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">entropy</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfDataport</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">storage</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfInterface</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">storage</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfDataport</span><span class="o">&gt;</span>
<span class="p">)</span>
</code></pre></div>
</div>
<p>For its clients, the CryptoServer offers the <strong><code class="docutils literal notranslate"><span class="pre">if_OS_Crypto</span></code></strong> and
<strong><code class="docutils literal notranslate"><span class="pre">if_CryptoServer</span></code></strong> interfaces, which can be connected to the respective
clients as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="n">CryptoServer_INSTANCE_CONNECT_CLIENTS</span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">nameOfInstance</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">client1</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfInterface</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">client1</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfDataport</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">client2</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfInterface</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="o">&lt;</span><span class="n">client2</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfDataport</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">)</span>
</code></pre></div>
</div>
<p>This list can contain up to 8 clients.</p>
<h4 id="configuring-the-instance0">Configuring the Instance0<a class="headerlink" href="#configuring-the-instance0" title="Link to this heading">¶</a></h4>
<p>The CryptoServer can be configured for each client and requires two
parameters (unfortunately this cannot yet be done via a macro):</p>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">storageLimit:</span></code></strong> sets the limit (in bytes) allowed by a client to be
stored in its own KeyStore in the CryptoServer.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">allowedIds:</span></code></strong> is a list of IDs that can access the (= load) keys
owned by that particular client. Please note that each list of
<strong><code class="docutils literal notranslate"><span class="pre">allowedIds</span></code></strong> needs to have as many entries as clients are
connected to the CryptoServer. In order to “fill up” the list of
IDs (in case a client’s keystore should not be accessible by all
other clients) the value “0” should be added. Per convention,
client IDs are assigned from 101 to 108, in the order in which
clients are listed in the
<strong><code class="docutils literal notranslate"><span class="pre">CryptoServer_CLIENT_ASSIGN_BADGES()</span></code></strong> macro.</p></li>
</ul>
<p>This config structure needs to have as many entries as there are clients
using the CryptoServer. The first entry in the config struct matches the
first client in the <strong><code class="docutils literal notranslate"><span class="pre">CryptoServer_INSTANCE_CONNECT_CLIENTS()</span></code></strong> macro.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="n">nameOfInstance</span><span class="o">&gt;</span><span class="p">.</span><span class="n">cryptoServer_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;clients&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;storageLimit&quot;</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">sizeInBytes</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;allowedIds&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mi">101</span><span class="p">,</span><span class="mi">102</span><span class="p">,...]</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;storageLimit&quot;</span><span class="o">:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">sizeInBytes</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;allowedIds&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[...]</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
</div>
<p>The CryptoServer offers one RPC endpoint, for which the CAmkES badge ID
needs to be assigned explicitly. For this, the following code can be
used:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="n">CryptoServer_CLIENT_ASSIGN_BADGES</span><span class="p">(</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">client1</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfInterface</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="o">&lt;</span><span class="n">client2</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="n">nameOfInterface</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">)</span>
</code></pre></div>
</div>
<p>The order of assignment must be the same
for <strong><code class="docutils literal notranslate"><span class="pre">CryptoServer_INSTANCE_CONNECT_CLIENTS()</span></code></strong> and
<strong><code class="docutils literal notranslate"><span class="pre">CryptoServer_CLIENT_ASSIGN_BADGES()</span></code></strong>.</p>
<h2 id="example">Example<a class="headerlink" href="#example" title="Link to this heading">¶</a></h2>
<p>We create an instance of the CryptoServer with three clients in this
example.</p>
<h3 id="instantiation-of-the-component-in-cmake">Instantiation of the Component in CMake<a class="headerlink" href="#instantiation-of-the-component-in-cmake" title="Link to this heading">¶</a></h3>
<p>We declare the CryptoServer in the <strong><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code></strong> as follows:</p>
<div class="highlight-CMake notranslate"><div class="highlight"><pre><span></span><code><span class="nb">CryptoServer_DeclareCAmkESComponent</span><span class="p">(</span>
<span class="w">    </span><span class="s">MyCryptoServer</span>
<span class="p">)</span>
</code></pre></div>
</div>
<p>Assuming that the different clients are actually just instances of the
same component, the following could be used:</p>
<div class="highlight-CMake notranslate"><div class="highlight"><pre><span></span><code><span class="nb">DeclareCAmkESComponent</span><span class="p">(</span>
<span class="w">    </span><span class="s">Client</span>
<span class="w">    </span><span class="s">SOURCES</span>
<span class="w">        </span><span class="s">...</span>
<span class="w">    </span><span class="s">C_FLAGS</span>
<span class="w">        </span><span class="s">...</span>
<span class="w">    </span><span class="s">LIBS</span>
<span class="w">        </span><span class="s">...</span>
<span class="w">        </span><span class="s">os_crypto</span>
<span class="w">        </span><span class="s">MyCryptoServer_client</span>
<span class="p">)</span>
</code></pre></div>
</div>
<h3 id="id1">Instantiation and Configuration in CAmkES<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<p>Here we show how to set up the component in CAmkES.</p>
<h4 id="id2">Declaring the Component<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<p>The component is declared like this:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;CryptoServer/camkes/CryptoServer.camkes&quot;</span>
<span class="n">CryptoServer_COMPONENT_DEFINE</span><span class="p">(</span>
<span class="w">    </span><span class="n">MyCryptoServer</span>
<span class="p">)</span>
</code></pre></div>
</div>
<h4 id="id3">Instantiating and Connecting the Component<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<p>Here we see how to connect the CryptoServer with a
<a class="reference internal" href="ram-disk.html"><span class="std std-doc">RamDisk</span></a> component, an
<a class="reference internal" href="entropy-source.html"><span class="std std-doc">EntropySource</span></a> component and three clients:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="c1">// Instantiate CryptoServer</span>
<span class="n">component</span><span class="w"> </span><span class="n">MyCryptoServer</span><span class="w">    </span><span class="n">myCryptoServer</span><span class="p">;</span>
<span class="c1">// Instantiate storage + entropy</span>
<span class="n">Component</span><span class="w"> </span><span class="n">RamDisk</span><span class="w">           </span><span class="n">storage</span><span class="p">;</span>
<span class="n">Component</span><span class="w"> </span><span class="n">EntropySource</span><span class="w">     </span><span class="n">entropy</span><span class="p">;</span>
<span class="c1">// Instantiate clients</span>
<span class="n">Component</span><span class="w"> </span><span class="n">Client</span><span class="w">            </span><span class="n">client1</span><span class="p">;</span>
<span class="n">Component</span><span class="w"> </span><span class="n">Client</span><span class="w">            </span><span class="n">client2</span><span class="p">;</span>
<span class="n">Component</span><span class="w"> </span><span class="n">Client</span><span class="w">            </span><span class="n">client3</span><span class="p">;</span>

<span class="c1">// Connect interfaces USED by CryptoServer</span>
<span class="n">CryptoServer_INSTANCE_CONNECT</span><span class="p">(</span>
<span class="w">    </span><span class="n">myCryptoServer</span><span class="p">,</span>
<span class="w">    </span><span class="n">entropy</span><span class="p">.</span><span class="n">entropy_rpc</span><span class="p">,</span><span class="w">    </span><span class="n">entropy</span><span class="p">.</span><span class="n">entropy_port</span><span class="p">,</span>
<span class="w">    </span><span class="n">storage</span><span class="p">.</span><span class="n">storage_rpc</span><span class="p">,</span><span class="w">    </span><span class="n">storage</span><span class="p">.</span><span class="n">storage_port</span>
<span class="p">)</span>
<span class="c1">// Connect interfaces PROVIDED by CryptoServer</span>
<span class="n">CryptoServer_INSTANCE_CONNECT_CLIENTS</span><span class="p">(</span>
<span class="w">    </span><span class="n">myCryptoServer</span><span class="p">,</span>
<span class="w">    </span><span class="n">client1</span><span class="p">.</span><span class="n">server_rpc</span><span class="p">,</span><span class="w">     </span><span class="n">client1</span><span class="p">.</span><span class="n">server_port</span><span class="p">,</span>
<span class="w">    </span><span class="n">client2</span><span class="p">.</span><span class="n">server_rpc</span><span class="p">,</span><span class="w">     </span><span class="n">client2</span><span class="p">.</span><span class="n">server_port</span><span class="p">,</span>
<span class="w">    </span><span class="n">client3</span><span class="p">.</span><span class="n">server_rpc</span><span class="p">,</span><span class="w">     </span><span class="n">client3</span><span class="p">.</span><span class="n">server_port</span>
<span class="p">)</span>
</code></pre></div>
</div>
<h4 id="configuring-the-instance">Configuring the Instance<a class="headerlink" href="#configuring-the-instance" title="Link to this heading">¶</a></h4>
<p>The main configuration block needs an entry for each client.  The
specific configuration below allows all three clients to use 16KiB of
KeyStore storage. For the first two clients, only the clients themselves
can access their KeyStores, keys from the KeyStore of the third client can be
accessed by all others.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="n">myCryptoServer</span><span class="p">.</span><span class="n">cryptoServer_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="s">&quot;clients&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;storageLimit&quot;</span><span class="o">:</span><span class="w"> </span><span class="mi">1024</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;allowedIds&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mi">101</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;storageLimit&quot;</span><span class="o">:</span><span class="w"> </span><span class="mi">1024</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;allowedIds&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mi">102</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">,</span><span class="w">  </span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;storageLimit&quot;</span><span class="o">:</span><span class="w"> </span><span class="mi">1024</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;allowedIds&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="mi">101</span><span class="p">,</span><span class="mi">102</span><span class="p">,</span><span class="mi">103</span><span class="p">]</span><span class="w"> </span><span class="p">},</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">};</span>
</code></pre></div>
</div>
<p>Please note that the order of configuration must correspond to the order
in which the clients appear in the <strong><code class="docutils literal notranslate"><span class="pre">CryptoServer_INSTANCE_CONNECT_CLIENTS()</span></code></strong>
macro.</p>
<p>We use the <strong><code class="docutils literal notranslate"><span class="pre">CryptoServer_CLIENT_ASSIGN_BADGES()</span></code></strong> macro to assign a seL4
badge to the client’s side of the RPC endpoint.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="n">CryptoServer_CLIENT_ASSIGN_BADGES</span><span class="p">(</span>
<span class="w">    </span><span class="n">client1</span><span class="p">.</span><span class="n">server_rpc</span><span class="p">,</span>
<span class="w">    </span><span class="n">client2</span><span class="p">.</span><span class="n">server_rpc</span><span class="p">,</span>
<span class="w">    </span><span class="n">client3</span><span class="p">.</span><span class="n">server_rpc</span>
<span class="p">)</span>
</code></pre></div>
</div>
<h2 id="using-the-component-s-interfaces-in-c">Using the Component’s Interfaces in C<a class="headerlink" href="#using-the-component-s-interfaces-in-c" title="Link to this heading">¶</a></h2>
<p>The following shows how to use the CryptoServer through an instance of the
<a class="reference internal" href="../api/crypto_api.html"><span class="std std-doc">Crypto API</span></a> and through its extra interface (for handling
keys):</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><code><span class="c1">// For Crypto API</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;OS_Crypto.h&quot;</span>

<span class="c1">// For client library code of CryptoServer</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;CryptoServer.h&quot;</span>

<span class="c1">// For RPC and dataports</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;camkes.h&gt;</span>

<span class="c1">// CryptoServer client interface as defined in CAmkES</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">if_CryptoServer_t</span><span class="w"> </span><span class="n">cryptoServer</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">IF_CRYPTOSERVER_ASSIGN</span><span class="p">(</span><span class="n">server_rpc</span><span class="p">);</span>

<span class="c1">// Crypto API instance in &quot;CLIENT&quot; mode,</span>
<span class="c1">// using the RPC interface (and dataport) as defined in CAmkES</span>
<span class="k">static</span><span class="w"> </span><span class="n">OS_Crypto_Config_t</span><span class="w"> </span><span class="n">cryptoCfg</span><span class="w"> </span><span class="o">=</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">.</span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OS_Crypto_MODE_CLIENT</span><span class="p">,</span>
<span class="w">    </span><span class="p">.</span><span class="n">rpc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">IF_OS_CRYPTO_ASSIGN</span><span class="p">(</span>
<span class="w">        </span><span class="n">server_rpc</span><span class="p">,</span>
<span class="w">        </span><span class="n">server_port</span><span class="p">)</span>
<span class="p">};</span>

<span class="c1">// Main demo function</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// Declare handles for API and objects</span>
<span class="w">    </span><span class="n">OS_Crypto_Handle_t</span><span class="w"> </span><span class="n">hCrypto</span><span class="p">;</span>
<span class="w">    </span><span class="n">OS_CryptoKey_Handle_t</span><span class="w"> </span><span class="n">hKey</span><span class="p">;</span>
<span class="w">    </span><span class="n">OS_CryptoCipher_Handle_t</span><span class="w"> </span><span class="n">hCipher</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// Declare inputs and outputs for crypto operation</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">pt</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;0123456789abcdef&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">ct</span><span class="p">[</span><span class="mi">16</span><span class="p">];</span>
<span class="w">    </span><span class="kt">size_t</span><span class="w"> </span><span class="n">ptLen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">ctLen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Set up Crypto API in &quot;CLIENT&quot; mode to</span>
<span class="w">    </span><span class="c1">// automatically switch between local and remote LIB instance</span>
<span class="w">    </span><span class="n">OS_Crypto_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hCrypto</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">cryptoCfg</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Load key with name &quot;root key&quot; owned by ID=0</span>
<span class="w">    </span><span class="n">CryptoServer_loadKey</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cryptoServer</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">hKey</span><span class="p">,</span><span class="w"> </span><span class="n">hCrypto</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;root key&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Use newly loaded key for some crypto operation</span>
<span class="w">    </span><span class="n">OS_CryptoCipher_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hCipher</span><span class="p">,</span><span class="w"> </span><span class="n">hCrypto</span><span class="p">,</span><span class="w"> </span><span class="n">hKey</span><span class="p">,</span><span class="w"> </span><span class="n">OS_CryptoCipher_ALG_AES_ECB_ENC</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">OS_CryptoCipher_process</span><span class="p">(</span><span class="n">hCipher</span><span class="p">,</span><span class="w"> </span><span class="n">pt</span><span class="p">,</span><span class="w"> </span><span class="n">ptLen</span><span class="p">,</span><span class="w"> </span><span class="n">ct</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ctLen</span><span class="p">);</span>
<span class="w">    </span><span class="n">OS_CryptoCipher_free</span><span class="p">(</span><span class="n">hCipher</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Free key and API if it is no longer needed</span>
<span class="w">    </span><span class="n">OS_CryptoKey_free</span><span class="p">(</span><span class="n">hKey</span><span class="p">);</span>
<span class="w">    </span><span class="n">OS_Crypto_free</span><span class="p">(</span><span class="n">hCrypto</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>
</div>
<p>We can see here that the same CAmkES endpoint (<strong><code class="docutils literal notranslate"><span class="pre">myCryptoServer_rpc</span></code></strong>) is
referenced to assign the <strong><code class="docutils literal notranslate"><span class="pre">if_CryptoServer</span></code></strong> interface to <strong><code class="docutils literal notranslate"><span class="pre">cryptoServer</span></code></strong>,
as well as to assign <strong><code class="docutils literal notranslate"><span class="pre">if_OS_Crypto</span></code></strong> to <strong><code class="docutils literal notranslate"><span class="pre">cryptoCfg.rpc</span></code></strong>.</p>






                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="chan-mux.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: ChanMux" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              ChanMux
            </div>
          </div>
        </a>
      
      
        
        <a href="entropy-source.html" class="md-footer__link md-footer__link--next" aria-label="Next: EntropySource" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              EntropySource
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  
  
  <div class="md-footer-meta md-typeset">
    
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-footer-copyright__highlight">
        &#169; Copyright 2023-2024, HENSOLDT Cyber GmbH.
        
    </div>
  
    Created using
    <a href="https://www.sphinx-doc.org/" target="_blank" rel="noopener">Sphinx</a>
    8.1.3.
     and
    <a href="https://github.com/jbms/sphinx-immaterial/" target="_blank" rel="noopener">Sphinx-Immaterial</a>
  
</div>
      
    </div>
    
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.expand", "navigation.tabs", "navigation.sections", "navigation.instant", "header.autohide", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "toc.follow", "toc.sticky"], "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike", "staticVersions": null, "versionPath": null}}</script>
    
      
        <script src="../_static/sphinx_immaterial_theme.f9d9eeeb247ace16c.min.js?v=8ec58cb5"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script type="module" src="https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs"></script>
        <script type="module" src="https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs"></script>
        <script type="module">import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";import elkLayouts from "https://cdn.jsdelivr.net/npm/@mermaid-js/layout-elk@0.1.4/dist/mermaid-layout-elk.esm.min.mjs";mermaid.registerLayoutLoaders(elkLayouts);mermaid.initialize({startOnLoad:false});</script>
        <script src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js"></script>
        <script type="module">
import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@11.2.0/dist/mermaid.esm.min.mjs";
window.addEventListener("load", () => mermaid.run());
</script>
    
  </body>
</html>